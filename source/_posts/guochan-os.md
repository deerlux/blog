title: 国产操作系统与数据库——忍不住的吐槽
date: 2014-10-24 21:21:33 
tags: Linux
---

因工作原因，一些系统要上国产化的操作系统、数据库和中间件，和这些国产化系统软件
的技术人员打交道碰到了一些让我无语的事情。

iptables -F 
============

我中间想和别的机子传一些文件，一看系统中的ssh服务已经启动起来了，于是在另外一台
机器上用ssh登录我的机器，但是明明是能够ping通的 ``ssh my_ip`` 却出现了 ``no
route to host MY_IP``错误，我一看就怀疑可能是系统的iptables做了什么手脚，但无奈
我不会设置iptables。于是叫麒麟操作系统相关的技术人员来，非说我IP地址设置有问题
，弄了一通他没有弄明白，可能是技术支持的时候也没有碰到过我这样的用户，非要尝试
一下这种东西，最后信我的话了，直接用 ``iptables -F`` 给我把防火墙的东西清掉了。

我瞬间无语，其实我虽然不懂iptables的配置，但这条命令我还是懂得，就是删除所有的
iptables规则，那你他么还给我系统装什么iptables啊，国产化系统的安全就是这样保障
的啊？再说了，这也没有解决我问题啊，再重启还是不能，只是暂时可以通了。

chomd -R 777 *
==================

还有中间件的厂商更是另人蛋疼，号称是通过了公安部XXX认证的中间件厂商，给我的东西
是个压缩包，直接解压之后就可以用的，但是呢其中bin目录有些可执行的文件没有设置可
执行权限，我猜人家是在 windows 下打的压缩包，要不然怎会出现这种低级问题，不过人
家解决的方式也倒是简单，直接到了中间件解压后的根目录，敲了一条另我嘴巴合不拢的
命令:

``` shell 
chmod -R 777 * 
```

看来人家还是习惯在windows下所有用户对所有文件都可读写的传统，这样的做WEB服务的
中间件能保证安全？可是我用Linux用点强迫症，ls后看到满屏的绿色，我气就不打一处来
。

root用户安装的数据库只能root用
==============================

数据库产品也是，技术人员演示的是用root用户登录X系统，然后安装，然后运行数据库的
管理台。我是用普通用户登录，sudo安装，然后用普通用户打开控制台，不行。用sudo在
命令行里打开控制台可以。但是用普通用户打开控制台就报一个权限的错误，技术人员来
后坚持说root用户安装的就只能root用户用，如果想用普通用户用的话就用普通用户安装
。后来来了一个比他更懂行一些的，说可以将安装目录所有文件的属主改成我的登录用户
。我无语。后来我找到了问题的根源了，每个用户打开控制台的时候都会往安装目录下的
一个.manager目录里写log，如果普通用户没有对这个目录的写权限则就会报错。数据库系
统安装的时候将安装目录的权限都设置成了组可写的，因此比较恰当的做法是将允许使用
数据库的用户的组添加一个这个数据库目录的组即可。

由此我算得出了两个结论：

* 技术支持人员素质太差，基础的Linux安全以及相关的内容知识匮乏。软件设计得不符合
* Linux的规范，普通用户的log文件按照惯例应该是写在$HOME/.XXX目录下的，为什么要
  往安装目录下写呢，典型的单用户windows系统的习惯。

我们任重道远啊。



